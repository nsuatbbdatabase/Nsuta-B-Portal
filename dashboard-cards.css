/* Scoped admin dashboard styles.
  These rules are intended to apply only when the page root has the class
  `admin-dashboard` (add class="admin-dashboard" to <body>). Scopes reduce
  collisions with global `styles.css`. */
/* Unified dashboard card styles for student, teacher, and admin dashboards */
:root{
  /* Palette: Indigo primary, Teal accent, Warm gold highlight */
  --brand-700: #08275f; /* deep indigo */
  --brand-500: #0b3d91; /* primary */
  --brand-300: #3f7bd9; /* light primary */
  --accent-500: #0fb5a8; /* teal accent */
  --accent-300: #6fe2d8;
  --gold-500: #f5a623; /* warm highlight */
  --muted-900: #0b2133;
  --muted-700: #213444;
  --muted-500: #6b7b86;
  --card-bg: #ffffff;
  --card-border: rgba(11,33,60,0.06);
  --glass: rgba(255,255,255,0.85);
  /* Table visual tokens */
  --table-radius: 10px;
  --table-padding: 0.9rem;
  --table-gap: 1rem;
  --table-font-size: 0.95rem;
  --table-label-color: #3b5163;
  --table-value-color: #0b2133;
  --table-row-hover: rgba(11,102,178,0.04);
  --action-bg: var(--brand-500, #0b66b2);
  --action-bg-hover: var(--brand-600, #0f4fa6);
}

/* Copy of essential base / header / modal / main layout styles from styles.css
   Scoped to .admin-dashboard so admin.html can be unlinked from styles.css.
   Only a compact, necessary set is included here. */
.admin-dashboard body {
  /* Layered background: rich gradient + subtle vignette + optional background image */
  background:
    radial-gradient(circle at 10% 10%, rgba(255,255,255,0.04), transparent 18%),
    linear-gradient(120deg, rgba(3,54,115,0.92) 0%, rgba(8,121,200,0.85) 45%, rgba(6,69,145,0.9) 100%),
    url('admin dashboard background.jpg') no-repeat center center/cover;
  background-size: cover, cover, cover;
  color: #f2f6fb;
  display: flex;
  min-height: 100%;
  font-family: 'Segoe UI', sans-serif;
}
.admin-dashboard .dashboard-header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  background: linear-gradient(90deg, var(--brand-700), var(--brand-500));
  color: #fff;
  padding: 0.6rem 1rem;
  z-index: 1000;
  width: 100%;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  gap: 0.8rem;
  height: 72px;
  border-bottom: 2px solid rgba(255,255,255,0.06);
}
.admin-dashboard .dashboard-header .brand-left { display:flex; gap:0.8rem; align-items:center; flex:0 0 auto }
.admin-dashboard .dashboard-header h1 { font-size: 1.25rem; margin:0; line-height:1; font-weight:900; letter-spacing:0.01em }
.admin-dashboard .dashboard-header .motto { margin-left: 0.6rem; opacity:0.95; font-weight:700 }
/* Sliding motto container */
.admin-dashboard .motto-slider { overflow:hidden; display:inline-block; vertical-align:middle; max-width:340px }
.admin-dashboard .motto-slider .motto-track { display:inline-block; white-space:nowrap; transform:translateX(0); transition: transform 0.4s ease-in-out }
.admin-dashboard .motto-slide { display:inline-block; padding:0 0.6rem; white-space:nowrap }

/* Section header helpers */
.admin-dashboard .section-title-group { display:flex; flex-direction:column; gap:6px }
.admin-dashboard .section-kpis { display:flex; gap:0.6rem; align-items:center }

/* Card icon variants */
.admin-dashboard .card-icon--accent { background: linear-gradient(180deg,var(--accent-300),var(--accent-500)); color:#063 }
.admin-dashboard .card-icon--gold { background: linear-gradient(180deg,#ffd7a8,var(--gold-500)); color:#6b3 }
.admin-dashboard .card-icon--warn { background: linear-gradient(180deg,#ffecd1,#ffd7a8); color:#b34 }
.admin-dashboard .card-icon--calendar { background: linear-gradient(180deg,#e3f7ff,#cdeeff); color:#036 }
.admin-dashboard .card-icon--reports { background: linear-gradient(180deg,#e8f6ff,#dff3ff); color:#024 }
.admin-dashboard .card-icon--holiday { background: linear-gradient(180deg,#f6f9ff,#eef6ff); color:#045 }

/* Preview panels */
.admin-dashboard .preview-grid { margin-top:1rem; display:grid; grid-template-columns: 1fr 1fr; gap:1rem }
.admin-dashboard .preview-panel { background:#fff; padding:0.8rem; border-radius:10px; box-shadow:0 6px 18px rgba(0,0,0,0.04) }
.admin-dashboard .preview-title { margin:0 0 8px 0; font-size:1rem }
.admin-dashboard .preview-canvas { width:100%; height:180px }
.admin-dashboard .preview-summary { margin-top:1rem }
/* Title and motto grouped to avoid vertical stacking */
.admin-dashboard .school-title { font-weight:700; margin:0 }
.admin-dashboard .motto { margin:0; font-size:0.9rem; opacity:0.9 }
.admin-dashboard .school-logo {
  /* Constrain admin logo so it doesn't overflow the header or cover content */
  max-width: 96px;
  max-height: 40px;
}

/* Overview preview for student breakdown */
.admin-dashboard .dashboard-overview-preview{ grid-column: 1 / -1; display:block; }
.admin-dashboard .dashboard-overview-preview > div { display:flex; gap:1rem; align-items:stretch; }
.admin-dashboard .dashboard-overview-preview > div > div { flex:1; min-height:220px; }
.admin-dashboard .dashboard-overview-preview canvas { width:100% !important; height:220px !important; }
.admin-dashboard #studentBreakdownSummaryOverview { margin-top:0.8rem; }

/* Small spinner used during chart data load */
.admin-dashboard .chart-loader {
  display: inline-block;
  width: 36px;
  height: 36px;
  border: 4px solid rgba(0,0,0,0.06);
  border-top-color: var(--accent-500);
  border-radius: 50%;
  animation: spin 900ms linear infinite;
  vertical-align: middle;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* Grid table: 'grid table 4 - accent 3' style
   Interpretation: structured table with clear borders, 4-column emphasis where applicable,
   and accent color used on header/row highlights (accent-300/500). */
.admin-dashboard .grid-table-4-accent-3 {
  width: 100%;
  /* Use collapsed borders for explicit cell lines */
  border-collapse: collapse !important;
  border-spacing: 0;
  border: 1px solid rgba(11,33,60,0.12) !important;
  background: var(--card-bg);
  border-radius: var(--table-radius);
  overflow: hidden;
  display: table !important;
  box-shadow: 0 6px 18px rgba(11,33,60,0.04);
  font-size: var(--table-font-size);
  color: var(--table-value-color);
}
.admin-dashboard .grid-table-4-accent-3 thead th {
  background: linear-gradient(90deg, rgba(247,250,253,0.95), rgba(239,246,255,0.95));
  color: var(--table-label-color);
  font-weight:800;
  padding: calc(var(--table-padding) - 0.1rem) calc(var(--table-padding) - 0.2rem);
  border-bottom: 1px solid rgba(11,33,60,0.08);
  text-align: center;
  text-transform: uppercase;
  letter-spacing: 0.02em;
  font-size: 0.88rem;
}
.admin-dashboard .grid-table-4-accent-3 tbody td {
  padding: var(--table-padding) 0.9rem;
  border-bottom: 1px solid rgba(11,33,60,0.06);
  border-right: 1px solid rgba(11,33,60,0.04);
  display: table-cell;
  vertical-align: middle;
  word-break: break-word;
  line-height: 1.35;
}
.admin-dashboard .grid-table-4-accent-3 thead th { border-right: 1px solid rgba(11,33,60,0.06); }
.admin-dashboard .grid-table-4-accent-3 thead th:last-child,
.admin-dashboard .grid-table-4-accent-3 tbody td:last-child { border-right: none; }
.admin-dashboard .grid-table-4-accent-3 tbody tr:nth-child(even) { background: rgba(15,50,90,0.01); }
.admin-dashboard .grid-table-4-accent-3 tbody tr:hover { background: var(--table-row-hover); transform: translateY(-1px); box-shadow: 0 6px 18px rgba(11,33,60,0.04); }
.admin-dashboard .grid-table-4-accent-3 tbody .accent-3 { color: var(--gold-500); font-weight:700; }
/* stray unattached property removed to fix CSS parse errors */

/* Apply the grid table style to known admin tables */
.admin-dashboard #studentTable, .admin-dashboard #teacherTable, .admin-dashboard #adminTable, .admin-dashboard .student-breakdown-table {
  box-shadow: none; /* let grid-table style control visual */
}

/* Table wrapper for horizontal scrolling on small screens */
.admin-dashboard .table-wrap { width:100%; overflow:auto; border-radius:8px; }
.admin-dashboard .table-wrap { border: 1px solid rgba(11,33,60,0.06); padding: 10px; background: linear-gradient(180deg,#ffffff,#fbfdff); }
.admin-dashboard .grid-table-4-accent-3 { table-layout: auto; }
.admin-dashboard .grid-table-4-accent-3 th, .admin-dashboard .grid-table-4-accent-3 td { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.admin-dashboard .grid-table-4-accent-3 thead th { position: sticky; top: 0; z-index: 10; -webkit-backdrop-filter: blur(4px); backdrop-filter: blur(4px); }
.admin-dashboard .grid-table-4-accent-3 td.actions { width: 180px; text-align: center; }
.admin-dashboard .grid-table-4-accent-3 img { border-radius: 6px; max-width:48px; height:auto; }
.admin-dashboard .grid-table-4-accent-3 td.photo img,
.admin-dashboard #studentTable td.photo img {
  width: 48px !important;
  height: 48px !important;
  border-radius: 50% !important; /* make circular */
  object-fit: cover !important;
  display: block !important;
  margin: 0 auto !important;
}
.admin-dashboard .grid-table-4-accent-3 .btn, .admin-dashboard .grid-table-4-accent-3 button {
  padding: 6px 10px;
  border-radius:8px;
  background: var(--action-bg);
  border: none;
  color: #fff;
  cursor: pointer;
  font-weight:700;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 64px;
  box-shadow: 0 2px 6px rgba(11,33,60,0.04);
}
.admin-dashboard .grid-table-4-accent-3 .btn[disabled], .admin-dashboard .grid-table-4-accent-3 button[disabled] { opacity:0.55; cursor:not-allowed; box-shadow:none; }
.admin-dashboard .grid-table-4-accent-3 .btn:hover, .admin-dashboard .grid-table-4-accent-3 button:hover { background: var(--action-bg-hover); transform: translateY(-1px); }

/* subtle divider between logical columns on desktop */
@media (min-width: 720px) {
  .admin-dashboard .grid-table-4-accent-3 td, .admin-dashboard .grid-table-4-accent-3 th { padding-left: 1rem; padding-right: 1rem; }
}
.admin-dashboard .grid-table-4-accent-3 td.center { text-align:center; }
.admin-dashboard .grid-table-4-accent-3 td.mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, 'Roboto Mono', 'Courier New', monospace; }
.admin-dashboard .grid-table-4-accent-3 td.photo { width:64px; text-align:center; }
.admin-dashboard .grid-table-4-accent-3 td.name { font-weight:600; }
.admin-dashboard .grid-table-4-accent-3 td.center { text-align:center; }
.admin-dashboard .grid-table-4-accent-3 td.actions { display:flex; gap:0.4rem; justify-content:center; align-items:center; }
.admin-dashboard .grid-table-4-accent-3 td.actions .btn { padding:6px 12px; font-size:0.95rem; border-radius:8px }

/* Column width hints for common admin tables */
.admin-dashboard #studentTable th:nth-child(1), .admin-dashboard #studentTable td:nth-child(1) { width:72px; }
.admin-dashboard #studentTable th:nth-child(2), .admin-dashboard #studentTable td:nth-child(2) { width:220px; }
.admin-dashboard #studentTable th:nth-child(7), .admin-dashboard #studentTable td:nth-child(7) { width:90px; }
.admin-dashboard #studentTable th:nth-child(12), .admin-dashboard #studentTable td:nth-child(12) { width:180px; }

.admin-dashboard #teacherTable th:nth-child(1), .admin-dashboard #teacherTable td:nth-child(1) { width:220px; }
.admin-dashboard #teacherTable th:nth-child(4), .admin-dashboard #teacherTable td:nth-child(4) { width:90px; }
.admin-dashboard #teacherTable th:nth-child(14), .admin-dashboard #teacherTable td:nth-child(14) { width:120px; }

/* Remove legacy stacked-table rules here in favor of stronger mobile overrides below.
   The admin dashboard prefers horizontal/scrollable tables on small screens to
   match student/teacher dashboard UX. Section-open remains a separate stacked/card
   pattern intentionally applied when a management section is opened. */
.admin-dashboard .dashboard-main { margin-top: 72px; padding: 2rem; box-sizing: border-box; }

/* Ensure overlay and sidebar don't cover the fixed header */
.admin-dashboard .admin-bg-overlay { z-index: 0; }
.admin-dashboard .admin-bg-overlay {
  /* subtle softening overlay tailored for admin page */
  background: linear-gradient(180deg, rgba(0,8,24,0.20), rgba(0,16,40,0.16));
}
.admin-dashboard .sidebar { z-index: 900; }

/* Make header strongly constrained so children don't expand it */
.admin-dashboard .dashboard-header { height: 56px; overflow: hidden; }
.admin-dashboard .school-title { display: inline-block; vertical-align: middle; font-size: 1.05rem }
.admin-dashboard .motto { display: inline-block; vertical-align: middle; margin-left: 0.5rem; font-size: 0.85rem }

/* Strong overrides to defeat other global rules or injected styles */
.admin-dashboard body .dashboard-header {
  padding: 0.45rem 0.9rem !important;
  height: 56px !important;
  min-height: 56px !important;
  display: flex !important;
  align-items: center !important;
  flex-wrap: nowrap !important;
  gap: 0.65rem !important;
  overflow: visible !important;
  z-index: 1100 !important;
}
.admin-dashboard .dashboard-header > * { flex-shrink: 0; }
.admin-dashboard .dashboard-header img.school-logo,
.admin-dashboard img.school-logo { max-width: 64px !important; max-height: 40px !important; height: auto !important; width: auto !important; display: inline-block !important; }
.admin-dashboard .dashboard-header h1,
.admin-dashboard .dashboard-header .school-title,
.admin-dashboard .dashboard-header .motto {
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  margin: 0 !important;
}
.admin-dashboard .dashboard-main { margin-top: 72px !important; }
.admin-dashboard button { background-color: #004080; color: #fff; border: none; padding: 0.5rem 1rem; cursor: pointer; border-radius: 6px; }
.admin-dashboard button:hover { background-color: #0059b3 }
.admin-dashboard .modal { position: fixed; top:0; left:0; width:100%; height:100%; background-color: rgba(0,0,0,0.4); display:flex; justify-content:center; align-items:center; z-index:2001 }
.admin-dashboard .modal.hidden { display:none }
.admin-dashboard .modal-content { background:#fff; padding:1.2rem; border-radius:8px; max-width:640px; width:100%; box-shadow: 0 10px 30px rgba(0,0,0,0.12); }
.admin-dashboard .dashboard-cards-bg { background: rgba(255,255,255,0.97); border-radius: 18px; padding: 1.2rem; box-shadow: 0 8px 32px rgba(0,0,0,0.10); margin: 1rem 0 }


/* Admin toolbar (search + KPIs + profile) */
.admin-dashboard .admin-toolbar { display:flex; gap:1rem; align-items:center; margin-bottom:1.2rem; }
.admin-dashboard .admin-toolbar .toolbar-left { flex:1; display:flex; gap:0.6rem; align-items:center; }
.admin-dashboard .admin-toolbar .search-input { flex:1; padding:0.6rem; border-radius:8px; border:1px solid rgba(255,255,255,0.12); background: rgba(255,255,255,0.06); color: #fff }
.admin-dashboard .admin-toolbar .kpi-row { display:flex; gap:0.8rem; align-items:center; }
.admin-dashboard .kpi { background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(250,250,252,0.98)); padding:0.6rem 0.9rem; border-radius:10px; box-shadow:0 6px 18px rgba(2,24,57,0.06); text-align:center; min-width:110px; }
.admin-dashboard .kpi .kpi-label { font-size:0.9rem; color:var(--muted-700); }
.admin-dashboard .kpi .kpi-value { font-weight:800; color:var(--accent-500); font-size:1.15rem; }
.admin-dashboard .profile { display:flex; align-items:center; gap:0.6rem; background: linear-gradient(180deg,#fff,#fbfdff); padding:0.4rem 0.8rem; border-radius:10px; box-shadow:0 6px 18px rgba(2,24,57,0.06); }
.admin-dashboard .profile-avatar { width:36px; height:36px; border-radius:8px; object-fit:cover; }
.admin-dashboard .profile-text { text-align:left; }
.admin-dashboard .profile-name { font-weight:700; }
.admin-dashboard .profile-role { font-size:0.85rem; color:#667; }

/* Recent activity list */
.admin-dashboard .recent-activity-section { margin-bottom:1.2rem; }
.admin-dashboard .recent-activity-list { padding:0.6rem; display:flex; flex-direction:column; gap:0.5rem; max-height:180px; overflow:auto; background:rgba(255,255,255,0.95); border-radius:8px; box-shadow:0 4px 12px rgba(0,0,0,0.04); }
.admin-dashboard .activity-item { padding:0.6rem; border-radius:6px; background:transparent; color:#334; }

/* Announcement textarea style */
.admin-dashboard .announcement-textarea { width:100%; padding:8px; border-radius:6px; border:1px solid #cbd5e1; }

@media (max-width: 700px) {
  .admin-toolbar { flex-direction: column; align-items: stretch; gap:0.6rem; }
  .admin-toolbar .toolbar-left { order: 1; }
  .admin-toolbar .kpi-row { order: 2; justify-content: space-between; }
}

/* Utility styles used by admin.html */
.admin-dashboard .btn-danger { background:#f8d7da;color:#721c24;border:1px solid #f5c6cb;border-radius:6px;padding:0.45rem 0.8rem; }
.admin-dashboard .toast-container { position:fixed; bottom:20px; right:20px; z-index:9999; display:flex; flex-direction:column; gap:10px; pointer-events:none; }
.admin-dashboard .input-readonly { background:#f7f7fa; }
.admin-dashboard .hidden-select { display:none; }
.admin-dashboard .form-margin-top { margin-top:1.5rem; }
.admin-dashboard .form-inline-select { margin-right:0.5rem; }

/* small helpers for announcement modal controls */
.admin-dashboard .announcement-controls { margin-top:10px; display:flex; gap:8px; justify-content:flex-end; align-items:center; }
.admin-dashboard .announcement-status { color:var(--muted-500); }
.admin-dashboard .form-margin-small { margin: 0.5rem 0 1rem 0; }

/* Sidebar converted from cards */
.admin-dashboard .sidebar { width: 220px; background: linear-gradient(180deg, var(--brand-500), var(--brand-700)); color: #fff; padding-top:4.5rem; position:fixed; left:0; top:0; bottom:0; box-shadow:2px 0 28px rgba(2,24,57,0.12); z-index:1001; border-right:1px solid rgba(255,255,255,0.06); }
.admin-dashboard .sidebar-nav { list-style:none; padding:0.6rem; margin:0; display:flex; flex-direction:column; gap:0.4rem }
.admin-dashboard .sidebar-item { display:flex; align-items:center; gap:0.75rem; padding:0.65rem 0.8rem; border-radius:10px; background:transparent; border:none; text-align:left; width:100%; font-weight:700; color:rgba(255,255,255,0.95); cursor:pointer }
.admin-dashboard .sidebar-item span { color:rgba(255,255,255,0.92); }
.admin-dashboard .sidebar-item:hover { background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02)); box-shadow: 0 6px 18px rgba(255,255,255,0.03); }

/* Adjust main content when sidebar present */
.admin-dashboard .dashboard-main { margin-left: 240px; padding: 2rem; }
@media (max-width: 900px) { .admin-dashboard .sidebar { left:-260px; transition:left .28s ease; } .admin-dashboard .sidebar.open { left:0 } .admin-dashboard .dashboard-main { margin-left:0; padding:1rem; } }

.admin-dashboard .dashboard-overview{
  display: grid;
  grid-template-columns: repeat(auto-fit,minmax(220px,1fr));
  gap: 1.4rem;
  margin: 2rem 0;
  padding: 1.25rem;
  background: linear-gradient(180deg, rgba(255,255,255,0.95), rgba(250,250,252,0.95));
  border-radius: 12px;
  box-shadow: 0 10px 36px rgba(2,24,57,0.08);
  z-index: 2;
}

/* Compact overview card styles used on the sidebar 'Overview' panel */
.admin-dashboard .dashboard-overview-section .dashboard-overview { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap:1rem; }
.admin-dashboard .dashboard-overview .dashboard-card { display:flex; align-items:center; gap:0.85rem; padding:0.9rem; min-height:72px; cursor:pointer }
.admin-dashboard .dashboard-overview .dashboard-card .dashboard-card-icon { width:56px; height:56px; display:flex; align-items:center; justify-content:center; font-size:1.4rem; border-radius:10px; background:rgba(11,102,178,0.06); }
.admin-dashboard .dashboard-overview .dashboard-card:focus { outline: 3px solid rgba(11,102,178,0.12); }

/* Panels: make dashboard items look like horizontal panels with icon pane */
.admin-dashboard .dashboard-card{
  background: linear-gradient(180deg, #ffffff, #fbfdff);
  color: var(--muted-900);
  border-radius: 10px;
  padding: 0.9rem;
  border:1px solid var(--card-border);
  box-shadow: 0 10px 28px rgba(2,24,57,0.06);
  transition: box-shadow 0.18s ease, transform 0.12s ease;
  display: grid;
  grid-template-columns: 72px 1fr;
  gap: 0.9rem;
  align-items: center;
}
.admin-dashboard .dashboard-card:hover, .admin-dashboard .dashboard-card:focus{
  box-shadow: 0 20px 48px rgba(2,24,57,0.1);
  transform: translateY(-6px);
}

.admin-dashboard .dashboard-card .dashboard-card-icon{
  width: 64px;
  height: 64px;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius: 12px;
  background: linear-gradient(180deg, var(--accent-300), var(--accent-500));
  color: #043a35;
  font-size: 1.35rem;
}

.admin-dashboard .dashboard-card-body{display:flex;flex-direction:column;gap:0.25rem}
.admin-dashboard .dashboard-card-title{font-size:1.05rem;font-weight:800;color:var(--muted-700);}
.admin-dashboard .dashboard-card-stat{font-size:1.35rem;color:var(--brand-500);font-weight:800}
.admin-dashboard .dashboard-card-desc{font-size:0.95rem;color:var(--muted-500)}
.admin-dashboard .dashboard-card-actions{margin-top:0.4rem}
.admin-dashboard .dashboard-card-action{background:var(--brand-500);color:#fff;border:none;padding:0.45rem 0.8rem;border-radius:8px;cursor:pointer}
.admin-dashboard .dashboard-card-action:hover{background:var(--brand-300)}

.admin-dashboard .dashboard-cards-bg{background:transparent;padding:0;margin:0}
@media (max-width: 900px){
  .admin-dashboard .dashboard-overview{grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:0.9rem;padding:0.8rem}
  .admin-dashboard .dashboard-card{grid-template-columns:64px 1fr;padding:0.8rem}
}
@media (max-width: 600px){
  /* Stack panels on small screens */
  .admin-dashboard .dashboard-overview{grid-template-columns:1fr;padding:0.6rem;gap:0.6rem}
  .admin-dashboard .dashboard-card{grid-template-columns: 56px 1fr;padding:0.75rem;align-items:center}
  .admin-dashboard .dashboard-card .dashboard-card-icon{width:48px;height:48px;border-radius:10px}
  .admin-dashboard .dashboard-card-title{font-size:1rem}
  .admin-dashboard .dashboard-card-stat{font-size:1.15rem}
}

/* Strong mobile safety overrides: ensure no card is hidden or clipped */
@media (max-width: 600px){
  .admin-dashboard .dashboard-cards-bg{padding:0;border-radius:8px}
}

/* Centralize previously injected toast styles (moved from admin.html) */
.admin-dashboard .app-toast { font-family: 'Segoe UI', Arial, sans-serif; font-size:0.95rem; }
.admin-dashboard .app-toast-info { background: linear-gradient(90deg, rgba(63,187,170,0.08), rgba(15,181,168,0.12)); color: var(--brand-700); border-left: 4px solid var(--accent-500); }
.admin-dashboard .app-toast-warning { background: linear-gradient(90deg, rgba(245,166,35,0.06), rgba(245,166,35,0.08)); color: #7a4f00; border-left: 4px solid var(--gold-500); }
.admin-dashboard .app-toast-error { background: linear-gradient(90deg, rgba(255,130,130,0.04), rgba(255,80,80,0.06)); color: #7f1d1d; border-left: 4px solid rgba(220,38,38,0.9); }

/* Section panel and table styles for Student / Teacher / Admin management */
.admin-dashboard .dashboard-section {
  max-width: 1100px;
  margin: 2.5rem auto;
  padding: 1.25rem 1.5rem;
  background: rgba(255,255,255,0.98);
  border-radius: 12px;
  box-shadow: 0 18px 40px rgba(2,24,57,0.14);
  position: relative;
  z-index: 210;
}

/* When a management section is opened, use the available horizontal space to
   render each table row as a vertical form / card. This improves readability
   for long tables and uses the section area more like a details panel. */
.admin-dashboard.section-open .grid-table-4-accent-3 {
  display: block !important;
  width: 100% !important;
  border-radius: 12px;
  background: linear-gradient(180deg, #fff, #fbfdff);
  padding: 8px;
}
.admin-dashboard.section-open .grid-table-4-accent-3 thead { display: none !important; }
.admin-dashboard.section-open .grid-table-4-accent-3 tbody { display: block !important; }
.admin-dashboard.section-open .grid-table-4-accent-3 tr {
  display: grid !important;
  grid-template-columns: repeat(2, minmax(0, 1fr)); /* responsive two-column layout */
  gap: var(--table-gap);
  padding: calc(var(--table-padding) - 0.15rem);
  margin-bottom: calc(var(--table-gap) - 0.2rem);
  border: 1px solid rgba(11,33,60,0.06);
  border-radius: 8px;
  background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(250,250,252,0.98));
  align-items: start;
}
.admin-dashboard.section-open .grid-table-4-accent-3 tr td {
  display: block !important;
  padding: 0.15rem 0 !important;
  border: none !important;
}
.admin-dashboard.section-open .grid-table-4-accent-3 td:before {
  /* Show header label above the value (use data-label populated by JS) */
  content: attr(data-label) !important;
  display: block !important;
  font-weight: 700 !important;
  color: var(--table-label-color) !important;
  margin-bottom: 0.25rem !important;
  font-size: 0.85rem !important;
}
.admin-dashboard.section-open .grid-table-4-accent-3 td.actions { grid-column: 1 / -1; display:flex !important; gap:0.6rem; justify-content:flex-end; }
.admin-dashboard.section-open .grid-table-4-accent-3 td.photo { display:flex !important; align-items:center; justify-content:flex-start; }

/* Mobile: keep admin tables horizontal and scrollable like student/teacher dashboards */
@media (max-width: 700px) {
  /* Strong mobile override: force dashboard tables to behave horizontally and
     scroll when necessary. This neutralizes other stacked rules that may exist
     in global stylesheets. Specificity is high and !important is used to win
     the cascade for mobile devices. */
  .admin-dashboard .grid-table-4-accent-3,
  .admin-dashboard .table-wrap .grid-table-4-accent-3 {
    display: block !important;
    overflow-x: auto !important;
    width: 100% !important;
    max-width: 100% !important;
  /* intentionally left out vendor-only scrolling property for compatibility */
    table-layout: fixed !important;
  }

  .admin-dashboard .grid-table-4-accent-3 thead,
  .admin-dashboard .grid-table-4-accent-3 tbody,
  .admin-dashboard .grid-table-4-accent-3 tr {
    display: table !important;
    width: 100% !important;
    table-layout: fixed !important;
  }

  .admin-dashboard .grid-table-4-accent-3 th,
  .admin-dashboard .grid-table-4-accent-3 td {
    display: table-cell !important;
    padding: 0.55rem 0.6rem !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
  }

  .admin-dashboard .grid-table-4-accent-3 thead { position: sticky !important; top: 0 !important; z-index: 50 !important; }

  /* Explicitly disable stacked pseudo-labels for dashboard tables here */
  .admin-dashboard .grid-table-4-accent-3 td:before { display: none !important; content: none !important; }

  .admin-dashboard .grid-table-4-accent-3 td.actions { width: 160px !important; }
  .admin-dashboard .grid-table-4-accent-3 td.actions .btn, .admin-dashboard .grid-table-4-accent-3 td.actions button { min-width: 56px !important; padding: 6px 8px !important; }
}
/* Ensure action buttons are never unintentionally hidden or disabled by other
   high-specificity rules elsewhere (fixes missing Edit buttons). This block
   enforces visibility, interactivity and prevents clipping inside action cells. */
.admin-dashboard .grid-table-4-accent-3 td.actions,
.admin-dashboard .grid-table-4-accent-3 td.actions * {
  overflow: visible !important;
  visibility: visible !important;
  pointer-events: auto !important;
}
.admin-dashboard .grid-table-4-accent-3 td.actions .btn,
.admin-dashboard .grid-table-4-accent-3 td.actions button {
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  opacity: 1 !important;
  transform: none !important;
  z-index: 5 !important;
  color: #fff !important;
  background: var(--action-bg) !important;
  border: none !important;
  box-shadow: 0 2px 6px rgba(11,33,60,0.04) !important;
}

/* New Dashboard card grid (used for the Dashboard/Overview page) */
.admin-dashboard .dashboard-cards { display:grid; grid-template-columns: repeat(auto-fit,minmax(220px,1fr)); gap:1rem; margin: 1rem 0; }
.admin-dashboard .dashboard-card { background: linear-gradient(180deg,#ffffff,#fbfdff); border-radius:12px; padding:0.9rem; box-shadow: 0 8px 32px rgba(2,24,57,0.08); display:flex; align-items:center; gap:0.9rem; cursor:pointer; transition: transform 0.12s ease, box-shadow 0.12s ease; min-height:72px }
.admin-dashboard .dashboard-card:focus, .admin-dashboard .dashboard-card:hover { transform: translateY(-6px); box-shadow: 0 20px 48px rgba(2,24,57,0.12) }
.admin-dashboard .dashboard-card .card-icon { width:64px; height:64px; border-radius:12px; display:flex; align-items:center; justify-content:center; font-size:1.35rem }
.admin-dashboard .dashboard-card .card-body { flex:1; display:flex; flex-direction:column; gap:0.15rem }
.admin-dashboard .dashboard-card .card-title { font-weight:800; color:var(--muted-700); font-size:1.05rem }
.admin-dashboard .dashboard-card .card-desc { color:var(--muted-500); font-size:0.92rem }
.admin-dashboard .dashboard-card .card-actions { margin-top:0.45rem; display:flex; gap:0.5rem }

/* Card-as-page: when card is opened it should visually become a full page panel */
.admin-dashboard .dashboard-section.active-section { width:100%; max-width:1200px; margin: 2rem auto; padding: 1.6rem; border-radius:12px; background: linear-gradient(180deg,#fff,#fbfdff); box-shadow: 0 28px 60px rgba(2,24,57,0.16); transition: transform 0.16s ease, opacity 0.12s ease }
.admin-dashboard .dashboard-section.active-section .section-header { display:flex; align-items:center; justify-content:space-between; gap:1rem }

/* Calendar / Holidays card styles */
.admin-dashboard .holidays-list { padding:0.6rem; background: linear-gradient(180deg,#fff,#fbfdff); border-radius:8px; box-shadow: 0 6px 18px rgba(2,24,57,0.04); }
.admin-dashboard .holiday-item { padding:0.4rem 0.5rem; display:flex; justify-content:space-between; border-bottom:1px dashed rgba(6,54,99,0.06) }
.admin-dashboard .holiday-item:last-child { border-bottom:none }

/* Dashboard header KPI cluster (larger display on desktop) */
.admin-dashboard .kpi-row { display:flex; gap:0.8rem; align-items:center }
.admin-dashboard .kpi { background: linear-gradient(180deg,#fff,#fbfdff); padding:0.8rem 0.9rem; border-radius:10px; box-shadow: 0 8px 24px rgba(2,24,57,0.06); min-width:110px; text-align:center }

/* Responsive tweaks */
@media (max-width: 900px) {
  .admin-dashboard .dashboard-header { padding: 0.5rem; height:64px }
  .admin-dashboard .motto-slider { max-width: 220px }
  .admin-dashboard .dashboard-cards { grid-template-columns: repeat(auto-fit,minmax(180px,1fr)) }
}

@media (max-width: 600px) {
  .admin-dashboard .dashboard-cards { grid-template-columns: 1fr }
  .admin-dashboard .dashboard-header h1 { font-size: 1rem }
  .admin-dashboard .brand-left img { max-width:48px }
}


/* When a section is open, slightly dim the rest of the dashboard for focus */
.admin-dashboard.section-open .dashboard-main { filter: none; }
.admin-dashboard.section-open .dashboard-overview { opacity: 0.06; pointer-events: none; transform: scale(0.996); }

/* Hide non-essential overview UI when a management section is open (desktop) */
@media (min-width: 901px) {
  .admin-dashboard.section-open .admin-toolbar,
  .admin-dashboard.section-open .recent-activity-section,
  .admin-dashboard.section-open .dashboard-cards-bg,
  .admin-dashboard.section-open .dashboard-overview-section { display: none !important; }

  /* Ensure the active dashboard-section (the open panel) is prominent */
  .admin-dashboard.section-open .dashboard-section { margin-top: 3.5rem; box-shadow: 0 28px 60px rgba(2,24,57,0.16); }
}

/* On smaller screens keep the mobile back button visible (rendered by JS) */
@media (max-width: 900px) {
  .admin-dashboard.section-open .admin-toolbar { display: block; }
}

/* Table container styling */
.admin-dashboard .dashboard-section .table-panel { overflow: auto; border-radius: 10px; }
.admin-dashboard table.styled-table {
  width: 100%;
  border-collapse: separate; /* allow column dividers */
  border-spacing: 0;
  background: #fff;
  border-radius: 10px;
  overflow: hidden;
  /* subtle outer border to separate the table from the panel */
  border: 1px solid rgba(6,54,99,0.08);
}
.admin-dashboard table.styled-table thead th {
  position: sticky;
  top: 0;
  background: linear-gradient(180deg,#f7fbff,#eef6ff);
  color: #04345f;
  font-weight: 700;
  padding: 0.85rem 0.9rem;
  text-align: left;
  border-bottom: 1px solid rgba(6,54,99,0.06);
}
.admin-dashboard table.styled-table th, .admin-dashboard table.styled-table td {
  padding: 0.85rem 0.9rem;
  vertical-align: middle;
  /* add a faint bottom border for row separation */
  border-bottom: 1px solid rgba(6,54,99,0.06);
}
.admin-dashboard table.styled-table tbody tr { transition: background 0.12s ease; }
.admin-dashboard table.styled-table tbody tr:hover { background: linear-gradient(90deg, rgba(11,102,178,0.03), rgba(11,102,178,0.02)); }

/* Column dividers: place a subtle left border on every cell except first in row */
.admin-dashboard table.styled-table th + th, .admin-dashboard table.styled-table td + td { border-left: 1px solid rgba(6,54,99,0.06); }

/* First column (avatars / action column) fixed width */
.admin-dashboard table.styled-table th:first-child, .admin-dashboard table.styled-table td:first-child { width: 72px; min-width: 72px; max-width: 80px; text-align:center; }

/* Responsive: stack less important columns on small screens */
@media (max-width: 900px) {
  .admin-dashboard table.styled-table thead { display: none; }
  .admin-dashboard table.styled-table tr { display: block; margin-bottom: 0.7rem; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 12px rgba(2,24,57,0.04); }
  .admin-dashboard table.styled-table td { display: flex; justify-content: space-between; padding: 0.6rem 0.9rem; border-left: none !important; border-bottom: 1px solid rgba(6,54,99,0.06); }
  .admin-dashboard table.styled-table td:before { content: attr(data-label); color:#556; font-weight:600; margin-right:0.5rem; }
}

/* Remove double border on last row */
.admin-dashboard table.styled-table tbody tr:last-child td { border-bottom: none; }

/* Small utility for action buttons inside tables */
.admin-dashboard .table-action-btn { background: transparent; border: 1px solid rgba(6,54,99,0.08); padding: 0.35rem 0.6rem; border-radius: 6px; color: #034069; cursor: pointer }

